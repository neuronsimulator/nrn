<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PtrVector &mdash; NEURON  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=87e54e7c" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=6933245a" />

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Obsolete Pointer Functions" href="misc.html" />
    <link rel="prev" title="Pointer Class" href="pointer.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            NEURON
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Building:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../install/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cmake_doc/index.html">CMake Build Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/developer.html">Developer Builds</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../videos/index.html">Training videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../courses/exercises2018.html">NEURON Course Exercises</a></li>
<li class="toctree-l1"><a class="reference external" href="https://neuron.yale.edu/phpBB">The NEURON forum</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../publications.html">Publications about NEURON</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../publications-using-neuron.html">Publications using NEURON</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NEURON scripting:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../scripting.html">Running Python and HOC scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../python/index.html">NEURON Python documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">NEURON HOC documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../index.html#quick-links">Quick Links</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#basic-programming">Basic Programming</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../hoc.html">HOC Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mathematics.html">Mathematics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../strings.html">Strings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guidesign.html">GUI Design</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../references.html">Pointers</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="pointer.html">Pointer Class</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">PtrVector</a></li>
<li class="toctree-l4"><a class="reference internal" href="misc.html">Obsolete Pointer Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../timer.html">Timer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../system.html">System Calls</a></li>
<li class="toctree-l3"><a class="reference internal" href="../errors.html">Error Handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dynamiccode.html">Dynamic Code Loading and Execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../projectmanagement.html">Project Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../python-from-hoc.html">HOC accessing Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals.html">Debugging and Internals Access</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#model-specification">Model Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#simulation-control">Simulation Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#visualization">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#analysis">Analysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../otherscripting.html">Other scripting languages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/index.html">Python tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rxd-tutorials/index.html">Python RXD tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../coreneuron/index.html">CoreNEURON</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NMODLanguage:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../nmodl/index.html">NMODLanguage</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../scm/index.html">NEURON SCM and Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/index.html">NEURON Development topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doxygen.html">C/C++ API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Removed Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../removed_features.html">Removed Features</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Changelog</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">NEURON 8.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html#neuron-8-1">NEURON 8.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html#neuron-8-0">NEURON 8.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html#contributors">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html#feedback-help">Feedback / Help</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">NEURON</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">NEURON HOC documentation</a></li>
          <li class="breadcrumb-item"><a href="../references.html">Pointers</a></li>
      <li class="breadcrumb-item active">PtrVector</li>
<li class="wy-breadcrumbs-aside">
    
    
        
        <a href="../../../..html/../python/programming/pointers/ptrvector.html" > Switch to Python</a>
    
</li>

      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/hoc/programming/pointers/ptrvector.rst.txt" rel="nofollow"> View page source</a>
      </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p><dl class="docutils"><dt><a href="#PtrVector" title="Link to this definition">PtrVector</a></dt><dd><a href="#PtrVector.gather" title="Link to this definition">gather</a> &middot; <a href="#PtrVector.getval" title="Link to this definition">getval</a> &middot; <a href="#PtrVector.pset" title="Link to this definition">pset</a> &middot; <a href="#PtrVector.ptr_update_callback" title="Link to this definition">ptr_update_callback</a> &middot; <a href="#PtrVector.resize" title="Link to this definition">resize</a> &middot; <a href="#PtrVector.scatter" title="Link to this definition">scatter</a> &middot; <a href="#PtrVector.setval" title="Link to this definition">setval</a> &middot; <a href="#PtrVector.size" title="Link to this definition">size</a></dd></dl></p><section id="ptrvector">
<h1>PtrVector<a class="headerlink" href="#ptrvector" title="Link to this heading"></a></h1>
<dl class="hoc class">
<dt class="sig sig-object hoc" id="PtrVector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PtrVector</span></span><a class="headerlink" href="#PtrVector" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Syntax:</dt><dd><p><code class="samp docutils literal notranslate"><span class="pre">pv</span> <span class="pre">=</span> <span class="pre">new</span> <span class="pre">PtrVector(</span><em><span class="pre">size</span></em><span class="pre">)</span></code></p>
</dd>
</dl>
<p>Description:</p>
<blockquote>
<div><p>Fast scatter and gather from a Vector to a list of pointers (must have
same length). The size of the pointer vector is fixed at creation
and must be an integer greater than 0.
Pointers to variables are specified with the pset method. At creation,
all pointers point to an internal dummy variable. So it is possible
to scatter from a larger Vector into a smaller Vector.</p>
<p>A callback should be registered with the
<a class="reference internal" href="#PtrVector.ptr_update_callback" title="PtrVector.ptr_update_callback"><code class="xref hoc hoc-meth docutils literal notranslate"><span class="pre">PtrVector.ptr_update_callback()</span></code></a> method in order to prevent
memory segfaults when internal memory is reallocated.</p>
</div></blockquote>
<p>Python Example:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">neuron</span> <span class="kn">import</span> <span class="n">h</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">h</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">indgen</span><span class="p">()</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">h</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">pv</span> <span class="o">=</span> <span class="n">h</span><span class="o">.</span><span class="n">PtrVector</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
  <span class="n">pv</span><span class="o">.</span><span class="n">pset</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">_ref_x</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="n">pv</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">b</span><span class="o">.</span><span class="n">printf</span><span class="p">()</span>
<span class="n">b</span><span class="o">.</span><span class="n">mul</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">pv</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">printf</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
</dd></dl>

<hr class="docutils" />
<dl class="hoc method">
<dt class="sig sig-object hoc" id="PtrVector.size">
<span class="sig-prename descclassname"><span class="pre">PtrVector.</span></span><span class="sig-name descname"><span class="pre">size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PtrVector.size" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Syntax:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">length</span> <span class="pre">=</span> <span class="pre">pv.size()</span></code></p>
</dd>
<dt>Description:</dt><dd><p>Return the number of elements in the PtrVector.</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="hoc method">
<dt class="sig sig-object hoc" id="PtrVector.resize">
<span class="sig-prename descclassname"><span class="pre">PtrVector.</span></span><span class="sig-name descname"><span class="pre">resize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PtrVector.resize" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Syntax:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">newsize</span> <span class="pre">=</span> <span class="pre">pv.resize(newsize)</span></code></p>
</dd>
<dt>Description:</dt><dd><p>Old pointer array is freed and new pointer array with specified size
is created. All the pointers point to a dummy variable. If the specified
new size is the same as the old size, the old existing array is kept.
Newsize must be an integer greater than 0.</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="hoc method">
<dt class="sig sig-object hoc" id="PtrVector.pset">
<span class="sig-prename descclassname"><span class="pre">PtrVector.</span></span><span class="sig-name descname"><span class="pre">pset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PtrVector.pset" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Syntax:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">var_val</span> <span class="pre">=</span> <span class="pre">pv.pset(i,</span> <span class="pre">&amp;var)</span></code></p>
</dd>
<dt>Description:</dt><dd><p>The ith pointer in the PtrVector points to var. 0 &lt;= i &lt; pv.size()</p>
</dd>
</dl>
</dd></dl>

<dl class="hoc method">
<dt class="sig sig-object hoc" id="PtrVector.scatter">
<span class="sig-prename descclassname"><span class="pre">PtrVector.</span></span><span class="sig-name descname"><span class="pre">scatter</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PtrVector.scatter" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Syntax:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">0.</span> <span class="pre">=</span> <span class="pre">pv.scatter(srcvec)</span></code></p>
</dd>
<dt>Description:</dt><dd><p>The elements of the Vector argument are copied to the variables pointed
to. The size of the Vector must be the same as the size of the PtrVector</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="hoc method">
<dt class="sig sig-object hoc" id="PtrVector.gather">
<span class="sig-prename descclassname"><span class="pre">PtrVector.</span></span><span class="sig-name descname"><span class="pre">gather</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PtrVector.gather" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Syntax:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">0.</span> <span class="pre">=</span> <span class="pre">pv.gather(destvec)</span></code></p>
</dd>
<dt>Description:</dt><dd><p>The variable values pointed to by the PtrVector are copied into the
destination Vector.</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="hoc method">
<dt class="sig sig-object hoc" id="PtrVector.getval">
<span class="sig-prename descclassname"><span class="pre">PtrVector.</span></span><span class="sig-name descname"><span class="pre">getval</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PtrVector.getval" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Syntax:</dt><dd><p><code class="samp docutils literal notranslate"><em><span class="pre">val</span></em> <span class="pre">=</span> <span class="pre">pv.getval(</span><em><span class="pre">i</span></em><span class="pre">)</span></code></p>
</dd>
<dt>Description:</dt><dd><p>Return the value pointed to by the ith pointer in the PtrVector.</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="hoc method">
<dt class="sig sig-object hoc" id="PtrVector.setval">
<span class="sig-prename descclassname"><span class="pre">PtrVector.</span></span><span class="sig-name descname"><span class="pre">setval</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PtrVector.setval" title="Link to this definition"></a></dt>
<dd><dl class="simple">
<dt>Syntax:</dt><dd><p><code class="samp docutils literal notranslate"><em><span class="pre">val</span></em> <span class="pre">=</span> <span class="pre">pv.getval(</span><em><span class="pre">i</span></em><span class="pre">,</span> <em><span class="pre">x</span></em><span class="pre">)</span></code></p>
</dd>
<dt>Description:</dt><dd><p>Set the variable pointed to by the ith pointer to the value of x.</p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="hoc method">
<dt class="sig sig-object hoc" id="PtrVector.ptr_update_callback">
<span class="sig-prename descclassname"><span class="pre">PtrVector.</span></span><span class="sig-name descname"><span class="pre">ptr_update_callback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PtrVector.ptr_update_callback" title="Link to this definition"></a></dt>
<dd><dl>
<dt>Syntax:</dt><dd><p><code class="samp docutils literal notranslate"><span class="pre">0.</span> <span class="pre">=</span> <span class="pre">pv.ptr_update_callback(&quot;hoc_statement&quot;,</span> <span class="pre">[object])</span></code></p>
<p><code class="samp docutils literal notranslate"><span class="pre">0.</span> <span class="pre">=</span> <span class="pre">pv.ptr_update_callback(pythoncallback)</span></code></p>
</dd>
<dt>Description:</dt><dd><p>The statement or pythoncallback is executed whenever range variables
are re-allocated. Within the callback, the
<a class="reference internal" href="#PtrVector.resize" title="PtrVector.resize"><code class="xref hoc hoc-meth docutils literal notranslate"><span class="pre">PtrVector.resize()</span></code></a> method may be called but the PtrVector should
not be destroyed.</p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pointer.html" class="btn btn-neutral float-left" title="Pointer Class" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="misc.html" class="btn btn-neutral float-right" title="Obsolete Pointer Functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Duke, Yale and the Blue Brain Project.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
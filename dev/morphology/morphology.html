<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Morphology loading in NEURON &mdash; NEURON  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=87e54e7c" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=6933245a" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/design-tabs.js?v=f930bc37"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="HOC Sphinx Domain" href="../hocdomain-sphinx.html" />
    <link rel="prev" title="setuptools" href="../setuptools/setuptools.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            NEURON
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Building:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cmake_doc/index.html">CMake Build Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/developer.html">Developer Builds</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../videos/index.html">Training videos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/index.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../courses/exercises2018.html">NEURON Course Exercises</a></li>
<li class="toctree-l1"><a class="reference external" href="https://neuron.yale.edu/phpBB">The NEURON forum</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../publications.html">Publications about NEURON</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../publications-using-neuron.html">Publications using NEURON</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NEURON scripting:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../scripting.html">Running Python and HOC scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python/index.html">NEURON Python documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hoc/index.html">NEURON HOC documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../otherscripting.html">Other scripting languages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Python tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rxd-tutorials/index.html">Python RXD tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../coreneuron/index.html">CoreNEURON</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NMODLanguage:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../nmodl/index.html">NMODLanguage</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer documentation:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../scm/index.html">NEURON SCM and Release</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">NEURON Development topics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../HOCInterpreter/HOCInterpreter.html">HOC Interpreter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how-do-i/how-do-i.html">How-Do-I Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-structures.html">Data structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gpu-testing.html">Testing GPU functionality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workflow-code-paths.html">Workflow Code Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setuptools/setuptools.html">setuptools</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Morphology loading in NEURON</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#hoc-morphology-loading-legacy-import3d-gui">HOC Morphology Loading - Legacy Import3D_GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hoc-morphology-loading-with-morphio">HOC Morphology Loading with MorphIO</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hocdomain-sphinx.html">HOC Sphinx Domain</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../doxygen.html">C/C++ API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Removed Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../removed_features.html">Removed Features</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Changelog</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">NEURON 8.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html#neuron-8-1">NEURON 8.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html#neuron-8-0">NEURON 8.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html#contributors">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html#feedback-help">Feedback / Help</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">NEURON</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">NEURON Development topics</a></li>
      <li class="breadcrumb-item active">Morphology loading in NEURON</li>
<li class="wy-breadcrumbs-aside">
    
    
</li>

      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/dev/morphology/morphology.rst.txt" rel="nofollow"> View page source</a>
      </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="morphology-loading-in-neuron">
<span id="morphology-loading"></span><h1>Morphology loading in NEURON<a class="headerlink" href="#morphology-loading-in-neuron" title="Link to this heading"></a></h1>
<p>Traditionally reading morphologies with NEURON has been coupled to the <code class="docutils literal notranslate"><span class="pre">Import3D</span> <span class="pre">GUI</span></code> tool.
The <code class="docutils literal notranslate"><span class="pre">Import3D</span> <span class="pre">GUI</span></code> tool is a graphical tool that allows the user to load a morphology and then interactively modify it.
<a class="reference internal" href="../../guide/import3d.html#import3d-tutorial"><span class="std std-ref">Using the Import3D GUI</span></a> provides a tutorial on how to use the <code class="docutils literal notranslate"><span class="pre">Import3D</span> <span class="pre">GUI</span></code> tool.</p>
<p>The underlying implementation is mostly HOC and the GUI constructs can in principle be disregarded, since loading numerous morphologies for simulation does not make any use of them.
Note it is possible possible to load HOC-bound morphologies, but also Python-bound morphologies (refer to <a class="reference internal" href="../../guide/bio_faq.html#bio-faq"><span class="std std-ref">Biology Modeling FAQ</span></a>).</p>
<section id="hoc-morphology-loading-legacy-import3d-gui">
<h2>HOC Morphology Loading - Legacy Import3D_GUI<a class="headerlink" href="#hoc-morphology-loading-legacy-import3d-gui" title="Link to this heading"></a></h2>
<p>A HOC <code class="docutils literal notranslate"><span class="pre">CellType</span></code> needs to be instantiated and the Import3D stack will be used to load the morphology.</p>
<p>Please refer to <a class="reference external" href="https://github.com/BlueBrain/neurodamus/blob/8263f1d70995d5815c30691d2b14ef4a840ff356/core/hoc/Cell.hoc">Cell.hoc from BlueBrain/neurodamus</a> for an example of HOC <code class="docutils literal notranslate"><span class="pre">CellType</span></code>.</p>
<img alt="../../_images/Import3D-hoc.png" src="../../_images/Import3D-hoc.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">instantiate</span></code> method of Import3D stack will create a list of HOC commands that will be executed to load the morphology.</p>
<p>Given a simple single point soma simple Neurolucida morphology</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">;</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">same</span> <span class="n">morphology</span> <span class="k">as</span> <span class="n">simple</span><span class="o">.</span><span class="n">swc</span>
<span class="p">;</span>
<span class="p">;</span>           <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">;</span> <span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span><span class="o">-----</span> <span class="o">------</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">;</span>             <span class="o">|</span>
<span class="p">;</span>             <span class="o">|</span>
<span class="p">;</span>             <span class="o">|</span>
<span class="p">;</span>             <span class="o">|</span> <span class="n">Type</span> <span class="o">=</span> <span class="mi">3</span>
<span class="p">;</span>             <span class="o">|</span>
<span class="p">;</span>             <span class="n">o</span> <span class="n">origin</span>
<span class="p">;</span>             <span class="o">|</span>
<span class="p">;</span>             <span class="o">|</span> <span class="n">Type</span> <span class="o">=</span> <span class="mi">2</span>
<span class="p">;</span>             <span class="o">|</span>
<span class="p">;</span>             <span class="o">|</span>
<span class="p">;(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">)</span><span class="o">-----</span> <span class="o">------</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">)</span>
<span class="p">;</span>           <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">)</span>


<span class="p">(</span><span class="s2">&quot;CellBody&quot;</span>
<span class="p">(</span><span class="n">Color</span> <span class="n">Red</span><span class="p">)</span>
<span class="p">(</span><span class="n">CellBody</span><span class="p">)</span>
<span class="p">(</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">)</span>

<span class="p">((</span><span class="n">Dendrite</span><span class="p">)</span>
<span class="p">(</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">(</span><span class="mi">0</span> <span class="mi">5</span> <span class="mi">0</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">(</span>
<span class="p">(</span><span class="o">-</span><span class="mi">5</span> <span class="mi">5</span> <span class="mi">0</span> <span class="mi">3</span><span class="p">)</span>
<span class="o">|</span>
<span class="p">(</span><span class="mi">6</span> <span class="mi">5</span> <span class="mi">0</span> <span class="mi">3</span><span class="p">)</span>
<span class="p">)</span>
<span class="p">)</span>


<span class="p">((</span><span class="n">Axon</span><span class="p">)</span>
<span class="p">(</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">(</span><span class="mi">0</span> <span class="o">-</span><span class="mi">4</span> <span class="mi">0</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">(</span>
<span class="p">(</span><span class="mi">6</span> <span class="o">-</span><span class="mi">4</span> <span class="mi">0</span> <span class="mi">4</span><span class="p">)</span>
<span class="o">|</span>
<span class="p">(</span><span class="o">-</span><span class="mi">5</span> <span class="o">-</span><span class="mi">4</span> <span class="mi">0</span> <span class="mi">4</span><span class="p">)</span>
<span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">instantiate</span></code> will parse the file and create the following HOC commands
that will be executed in the HOC interpreter, thus loading the morphology:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">create</span> <span class="n">soma</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">forsec</span> <span class="s2">&quot;soma&quot;</span> <span class="n">somatic</span><span class="o">.</span><span class="n">append</span>
<span class="n">create</span> <span class="n">axon</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="n">forsec</span> <span class="s2">&quot;axon&quot;</span> <span class="n">axonal</span><span class="o">.</span><span class="n">append</span>
<span class="n">create</span> <span class="n">dend</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="n">forsec</span> <span class="s2">&quot;dend&quot;</span> <span class="n">basal</span><span class="o">.</span><span class="n">append</span>
<span class="n">forall</span> <span class="nb">all</span><span class="o">.</span><span class="n">append</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1.7484555e-07</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mf">0.94581723</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.32469952</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mf">0.78914064</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.61421257</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mf">0.54694813</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.83716649</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mf">0.24548566</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.96940023</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="o">-</span><span class="mf">0.082579389</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.99658448</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="o">-</span><span class="mf">0.40169525</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.91577339</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="o">-</span><span class="mf">0.67728162</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.73572391</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="o">-</span><span class="mf">0.87947375</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.47594735</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="o">-</span><span class="mf">0.98636132</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.16459456</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="o">-</span><span class="mf">0.98636132</span><span class="p">,</span> <span class="mf">0.16459462</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="o">-</span><span class="mf">0.87947375</span><span class="p">,</span> <span class="mf">0.47594741</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="o">-</span><span class="mf">0.67728156</span><span class="p">,</span> <span class="mf">0.73572391</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="o">-</span><span class="mf">0.4016954</span><span class="p">,</span> <span class="mf">0.91577333</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="o">-</span><span class="mf">0.08257933</span><span class="p">,</span> <span class="mf">0.99658448</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mf">0.2454855</span><span class="p">,</span> <span class="mf">0.96940029</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mf">0.54694819</span><span class="p">,</span> <span class="mf">0.83716649</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mf">0.78914052</span><span class="p">,</span> <span class="mf">0.61421269</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mf">0.94581723</span><span class="p">,</span> <span class="mf">0.32469946</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="n">connect</span> <span class="n">axon</span><span class="p">[</span><span class="mi">0</span><span class="p">](</span><span class="mi">0</span><span class="p">),</span> <span class="mf">0.5</span>
<span class="n">axon</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">}</span>
<span class="n">axon</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">}</span>
<span class="n">axon</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="n">connect</span> <span class="n">axon</span><span class="p">[</span><span class="mi">1</span><span class="p">](</span><span class="mi">0</span><span class="p">),</span> <span class="mi">1</span>
<span class="n">axon</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">}</span>
<span class="n">axon</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="p">}</span>
<span class="n">axon</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="n">connect</span> <span class="n">axon</span><span class="p">[</span><span class="mi">2</span><span class="p">](</span><span class="mi">0</span><span class="p">),</span> <span class="mi">1</span>
<span class="n">axon</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">}</span>
<span class="n">axon</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="p">}</span>
<span class="n">soma</span> <span class="n">connect</span> <span class="n">dend</span><span class="p">[</span><span class="mi">0</span><span class="p">](</span><span class="mi">0</span><span class="p">),</span> <span class="mf">0.5</span>
<span class="n">dend</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">}</span>
<span class="n">dend</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">}</span>
<span class="n">dend</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="n">connect</span> <span class="n">dend</span><span class="p">[</span><span class="mi">1</span><span class="p">](</span><span class="mi">0</span><span class="p">),</span> <span class="mi">1</span>
<span class="n">dend</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">}</span>
<span class="n">dend</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="p">}</span>
<span class="n">dend</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="n">connect</span> <span class="n">dend</span><span class="p">[</span><span class="mi">2</span><span class="p">](</span><span class="mi">0</span><span class="p">),</span> <span class="mi">1</span>
<span class="n">dend</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">}</span>
<span class="n">dend</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">{</span> <span class="n">pt3dadd</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="hoc-morphology-loading-with-morphio">
<h2>HOC Morphology Loading with MorphIO<a class="headerlink" href="#hoc-morphology-loading-with-morphio" title="Link to this heading"></a></h2>
<p>Given that legacy morphology loading is implemented in HOC, it does incur a performance penalty.
To that end, we are implementing a new mechanism for loading morphologies in NEURON, using the <a class="reference external" href="https://github.com/BlueBrain/MorphIO">MorphIO</a> library.</p>
<p>The goal is to provide an API that will be backward compatible with the legacy mechanism, but will be implemented in C++ and will be more performant.
Ultimately, it would even be possible to remove the legacy mechanism, but that is not straightforward, as we need to couple it to the Import3D GUI/CellBuilder(see:ref:<cite>cell_builder</cite>).</p>
<img alt="../../_images/Import3D-hoc-morphio-backward.png" src="../../_images/Import3D-hoc-morphio-backward.png" />
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../setuptools/setuptools.html" class="btn btn-neutral float-left" title="setuptools" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../hocdomain-sphinx.html" class="btn btn-neutral float-right" title="HOC Sphinx Domain" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Duke, Yale and the Blue Brain Project.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
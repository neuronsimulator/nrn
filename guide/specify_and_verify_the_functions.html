<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Step 3. Specify and verify the functions that govern the parameters &mdash; NEURON  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=87e54e7c" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=6933245a" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/design-tabs.js?v=f930bc37"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Step 4. Use the model specification" href="use_the_model_specification.html" />
    <link rel="prev" title="Step 2. Specify the model parameter(s) to be varied" href="specify_the_model_parameters_varied.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            NEURON
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Building:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmake_doc/index.html">CMake Build Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/developer.html">Developer Builds</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User documentation:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../videos/index.html">Training videos</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="what_is_neuron.html">What is NEURON</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_get_started.html">How to get started with NEURON</a></li>
<li class="toctree-l2"><a class="reference internal" href="bio_faq.html">Biology Modeling FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="units.html">Units used in NEURON</a></li>
<li class="toctree-l2"><a class="reference internal" href="saveses.html">Using Session Files for Saving and Retrieving Windows</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="cellbuilder.html">Using the Cell Builder GUI</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="cellbuilder1.html">Creating a stylized (“stick-figure”) model cell</a></li>
<li class="toctree-l3"><a class="reference internal" href="cellbuilder2.html">Managing a model cell with complex anatomy</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="cellbuilder3.html">Specifying parameterized variation of biophysical properties</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="set_up_a_subsetdomainiterator.html">Step 1. Set up a SubsetDomainIterator</a></li>
<li class="toctree-l4"><a class="reference internal" href="specify_the_model_parameters_varied.html">Step 2. Specify the model parameter(s) to be varied</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Step 3. Specify and verify the functions that govern the parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="use_the_model_specification.html">Step 4. Use the model specification</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="import3d.html">Using the Import3D GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="network_builder_tutorials.html">Network Builder tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="optimization.html">Using NEURON’s Optimization Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="modelview_compact_display.html">ModelView: Compact display of parameters for NEURON models</a></li>
<li class="toctree-l2"><a class="reference internal" href="randomness.html">Randomness in NEURON models</a></li>
<li class="toctree-l2"><a class="reference internal" href="porting_mechanisms_to_cpp.html">Adapting MOD files for C++ with NEURON 9.0[.dev]</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html">Frequently asked questions (FAQ)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../courses/exercises2018.html">NEURON Course Exercises</a></li>
<li class="toctree-l1"><a class="reference external" href="https://neuron.yale.edu/phpBB">The NEURON forum</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications about NEURON</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications-using-neuron.html">Publications using NEURON</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NEURON scripting:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scripting.html">Running Python and HOC scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/index.html">NEURON Python documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hoc/index.html">NEURON HOC documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../otherscripting.html">Other scripting languages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Python tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rxd-tutorials/index.html">Python RXD tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreneuron/index.html">CoreNEURON</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NMODLanguage:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../nmodl/index.html">NMODLanguage</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scm/index.html">NEURON SCM and Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/index.html">NEURON Development topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doxygen.html">C/C++ API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Removed Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../removed_features.html">Removed Features</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Changelog</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">NEURON 8.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html#neuron-8-1">NEURON 8.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html#neuron-8-0">NEURON 8.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html#contributors">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html#feedback-help">Feedback / Help</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">NEURON</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Guides</a></li>
          <li class="breadcrumb-item"><a href="cellbuilder.html">Using the Cell Builder GUI</a></li>
          <li class="breadcrumb-item"><a href="cellbuilder3.html">Specifying parameterized variation of biophysical properties</a></li>
      <li class="breadcrumb-item active">Step 3. Specify and verify the functions that govern the parameters</li>
<li class="wy-breadcrumbs-aside">
    
    
</li>

      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/guide/specify_and_verify_the_functions.rst.txt" rel="nofollow"> View page source</a>
      </li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="step-3-specify-and-verify-the-functions-that-govern-the-parameters">
<span id="specify-and-verify-the-functions-that-govern-the-parameters"></span><h1>Step 3. Specify and verify the functions that govern the parameters<a class="headerlink" href="#step-3-specify-and-verify-the-functions-that-govern-the-parameters" title="Link to this heading"></a></h1>
<p>First we make sure that Specify Strategy is off.</p>
<p>Then, for each parameter that is supposed to vary with location, we must specify the function that governs it, and verify that we have achieved the desired spatial variation. It’s easiest to do this by focussing on one parameter at a time, so the following instructions show how to proceed for <code class="docutils literal notranslate"><span class="pre">gnabar_hh</span></code>. Finishing up the job for <code class="docutils literal notranslate"><span class="pre">gkbar_hh</span></code> and <code class="docutils literal notranslate"><span class="pre">gl_hh</span></code> “is left as an exercise for the reader.”</p>
<section id="a-specifying-a-function">
<h2>A. Specifying a function<a class="headerlink" href="#a-specifying-a-function" title="Link to this heading"></a></h2>
<p>Under apicals_x, we select gnabar_hh</p>
<img alt="../_images/pd10.gif" class="align-center" src="../_images/pd10.gif" />
<p>… and the right lower corner of the CellBuilder shows us that the default function is a Boltzmann function.</p>
<p>Our model isn’t smart enough for a Boltzmann function. We just want a plain, dumb, linear ramp.</p>
<p>That’s easy enough–we click on f(p) in the right panel and scroll down to Ramp …</p>
<img alt="../_images/pd11.gif" class="align-center" src="../_images/pd11.gif" />
<p>… and the function changes to</p>
<blockquote>
<div><p>f(p) = b + m*p / (p1 - p0)</p>
</div></blockquote>
<p>where b and m are the y axis intercept and slope of the ramp. Both are 0 by default, so we have to change them.</p>
<p>These are what we need for gnabar_hh: b = 0.12, m = -0.12</p>
<img alt="../_images/pd12.gif" class="align-center" src="../_images/pd12.gif" />
<p>Notice that the value of f(p) has changed from 0.5 to 0.06. We’re still midway into the apical tree, but now the function f(p) is telling us what the sodium conductance density will be. When p == 0, f(p) is 0.12, and when p == 1, f(p) is 0.</p>
</section>
<section id="b-verifying-a-function">
<h2>B. Verifying a function<a class="headerlink" href="#b-verifying-a-function" title="Link to this heading"></a></h2>
<p>What’s a quick way to verify that the spatial variation of gnabar_hh is what we want? The CellBuilder offers two ways to do this, and to see what they are, we just click on the “show” button.</p>
<img alt="../_images/pd13.gif" class="align-center" src="../_images/pd13.gif" />
<p>“show / Graph” brings up a graph that plots our parameter as a function of the distance metric.</p>
<img alt="../_images/showgraph.gif" class="align-center" src="../_images/showgraph.gif" />
<p>The alternative is “Show f(p) on shape”. This lets us click and drag within the shape plot. As we move the mouse cursor back and forth, our movements are tracked by the red highlight on the shape, and by the values of p and f(p),</p>
<blockquote>
<div><p>from small p</p>
</div></blockquote>
<img alt="../_images/sos1.gif" class="align-center" src="../_images/sos1.gif" />
<p>The name of the nearest section is also displayed, along with the arc length along that section.</p>
<blockquote>
<div><p>It is also a good idea to use the Model View tool</p>
<p><a href="#id1"><span class="problematic" id="id2">:menuselect:`NEURON Main Menu --&gt; Tools --&gt; Model View`</span></a></p>
<p>to see the actual parameter values that have been assigned after discretization. However, present implementations of ModelView only plot value vs. path distance from soma.</p>
</div></blockquote>
<p><strong>How about saving a session now?</strong></p>
</section>
<section id="repeat-until-done">
<h2>Repeat until done<a class="headerlink" href="#repeat-until-done" title="Link to this heading"></a></h2>
<p>To complete the model specification, we need to repeat these steps for gkbar_hh and gl_hh, specifying that f(p) is a ramp and changing b and m to the appropriate values (0.036 and -0.036 for gkbar_hh, 0.0003 and -0.0003 for gl_hh).</p>
<p>Be sure to save the completely configured CellBuilder to a session file.</p>
<p>Next we use the model in a simulation.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="specify_the_model_parameters_varied.html" class="btn btn-neutral float-left" title="Step 2. Specify the model parameter(s) to be varied" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="use_the_model_specification.html" class="btn btn-neutral float-right" title="Step 4. Use the model specification" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Duke, Yale and the Blue Brain Project.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>